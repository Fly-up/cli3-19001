<!--//works:Video player;
//author:m13564805727,第二期框架班编程小白;
//school:tanzhou;
// class：第二期框架班

//变量：Vol===音量节点；volumeValue/P2===音量条节点；load/upload===视频加载节点；
//videoFile===视频元素；ProgressBar/P1===播放进度条节点；H===视频顶部名称节点；playBox===前部播放控件节点；
//Play===播放暂停节点；Forward===快进节点；Rewind===快退节点；Screen===全屏节点；wardBox===后部控件节点；
//Loopplay===重播节点；Timeul/TimeLi===播放时钟节点；video===视频外部容器节点；playTag===播放状态；
//videoTag===视频加载状态；volumeTag===音量块隐藏状态；ScreensTag===全屏开启状态；aRR===播放时间数组；
//ARR===播放控件背景图片数组；TimeLilen===播放时钟长度值；num===循环计数；playProgress===播放比例；
//volumeProgress===音量比例；Progressbox===中部播放控件；loading===加载动画；

//函数：videocss===播放器初始样式，响应式样式；
//Horizontalscreen/Horizontalscreen1===横屏样式；
//Verticalscreen/Verticalscreen1===竖屏样式；
//fullscreen===居中样式；
//playTime/playtime===播放时间计算；
//volumecss===音量条基础样式；
//volumeTime===音量条动态样式；
//videorun===播放暂停；
//Progressbarcss===播放进度条基础样式；
//ProgressTime===播放进度条动态样式；-->



<!DOCtype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0">
        <title>我搭建的网站</title>
        <meta name="keywords" content="">
        <meta name="description" content="">
        <style>



            div,p,h1,h2,h3,h4,h5.h6,ul,ol,li,a,body,input,img
            {
                margin:0;
                padding:0;
                list-style-type:none;
                font-weight:normal;
                text-decoration:none;
                font-size:16px;
                line-height:normal;
                outline:none;
                color:#000;
            }
            .clearfix::after
            {
                display:block;
                content:".";
                font-size:0;
                overflow:hidden;
                height:0;
                clear:both;
            }
            html,body
            {
                width:100%;
                height:100%;
                -webkit-user-select:none;
                position:relative;
            }

    

            #video{
                position:absolute;
                background-image:url("./images/tbfjkttm.jpg");
                background-size:cover;
                background-repeat:no-repeat;
                background-position:center;
                margin:auto;
                left:0;
                right:0;
                top:0;
                bottom:0;
            }
            #video>h3{
                width:100%;
                height:10%;
                text-align:center;
                font-weight:bold;
                color:#fff;
            }
            #video>.loading{
                height:20px;
                display:flex;
                justify-content:space-around;
                align-items:center; 
                position:absolute;
                left:0;
                right:0;
                top:0;
                bottom:0;
                transform:translateX(-10%);
            }
            #video>.loading>li{
                color:#fff;
                font-size:16px;
            }
            #video>.loading>li:nth-child(2),
            #video>.loading>li:nth-child(3),
            #video>.loading>li:nth-child(4),
            #video>.loading>li:nth-child(5),
            #video>.loading>li:nth-child(6){
                width:4px;
                height:4px;
                border-radius:2px;
                color:#fff;
            }
            #video>.controls{
                width:100%;
                height:10%;
                background-color:rgb(0,0,0,0.4);
                display:flex;
                justify-content:space-around;
                align-items:center;
                position:absolute;
                left:0;
                bottom:0; 
            }
            #video>.controls .playbox{
                height:100%;
            }
            #video>.controls .playbox>ul{
                width:100%;
                height:100%;
                display:flex;
                justify-content:space-around;
                align-items:center;
            }
            #video>.controls .playbox .play,
            #video>.controls .playbox .loopplay,
            #video>.controls .upload,
            #video>.controls .forward,
            #video>.controls .screen,
            #video>.controls .rewind,
            #video>.controls .volume,
            #video>.controls .Progressbox{
                height:45%;
            }
            #video>.controls .playbox .loopplay{
                text-align:center;
                color:#fff;
            }
            #video>.controls .Progressbox{
                height:100%; 
            }
            #video>.controls .Progressbox>ul{
                height:100%;
                width:100%;
            }
            #video>.controls .time{
                width:100%;
                height:30%;
            }
            #video>.controls .Progressbox>ul{
                display:flex;
                flex-direction:column;
                justify-content:center;
                align-items:center; 
            }
            #video>.controls .time>ul{
                width:100%;
                height:100%;
                display:flex;
                align-items:center;
            }
            #video>.controls .time>ul>li{
                height:100%;
                text-align:center;
                color:#fff;
            }
            #video>.controls .upload>input{
                width:100%;
                height:100%;
                opacity:0;
            }
            #video>.controls .upload{
                position:relative;
            }
            #video>.controls .Progress-bar{
                width:100%;
                border-radius:4px;
                background-color:#ccc;
                overflow:hidden;
            }
            #video>.controls .Progress-bar>p{
                height:100%;
                width:0;
                background-color:rgb(163, 150, 179);
            }
            #video>.controls .wardbox{
                height:100%;
            }
            #video>.controls .wardbox>ul{
                width:100%;
                height:100%;
                display:flex;
                justify-content:space-around;
                align-items:center;
            }
            #video>.controls .upload>p{
                position:absolute;
                top:-200%;
                right:0;
                width:250px;
                height:35px;
                float:left;
            }
            #video>.controls .upload>p>img{
                width:35px;
                height:35px;
                background-color:#ccc;
                float:left;

            }
            #video>.controls .upload>p>input{
                height:35px;
                width:200px;
            }
            #video>.controls .volume{
                position:relative;
            }
            .volumeValue{
                height:100px;
                position:absolute;
                right:45%;
                top:-120px;
                border-radius:5px;
                background-color:#ccc;
                overflow:hidden;
            } 
            .volumeValue>p{
                width:100%;
                height:0;
                position:absolute;
                bottom:0;
                background-color:rgb(163, 150, 179);
            }               
        </style>
    </head>
    <body>
        <div id="video">
            <h3>我的播放器</h3>
            <video src="" controls poster=""></video>
            <ul class="loading">
                <li>视频加载中</li>
            </ul>
            <ul class="controls">
                <li class="playbox">
                    <ul>
                        <li class="play"></li>
                        <li class="loopplay">1</li>
                        <li class="rewind"></li>
                    </ul>
                </li>
                <li class="Progressbox">
                    <ul>
                        <li class="time">
                            <ul>
                                <li>0</li><li>0</li><li>:</li><li>0</li><li>0</li>
                                <li>:</li><li>0</li><li>0</li><li>/</li><li>0</li>
                                <li>0</li><li>:</li><li>0</li><li>0</li><li>:</li>
                                <li>0</li><li>0</li>
                            </ul>
                        </li>
                        <li class="Progress-bar"><p></p></li>
                    </ul>
                </li>
                <li class="wardbox">
                    <ul>
                        <li class="forward"></li>
                        <li class="volume">
                            <div class="volumeValue"><p></p></div>
                        </li>
                        <li class="screen"></li>
                        <li class="upload">
                            <input>
                            <p>
                                <img src="./images/搜索.png">
                                <input type="text" placeholder="视频地址或点击上传图标">
                            </p>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <script>

    //获取节点，定义全局变量

            let Vol=document.querySelector(".volume");
            let volumeValue=document.querySelector(".volumeValue");
            let load=document.querySelector(".upload");
            let upload=document.querySelector(".upload>input");
            let videoFile=document.querySelector("#video>video");
            let ProgressBar=document.querySelector(".Progress-bar");
            let H=document.querySelector("#video>h3");
            let playBox=document.querySelector(".playbox");
            let Play=document.querySelector(".playbox .play");
            let P1=document.querySelector(".Progress-bar>p");
            let P2=document.querySelector(".volumeValue>p");
            let Forward=document.querySelector(".forward");
            let Rewind=document.querySelector(".rewind");
            let Screen=document.querySelector(".screen");
            let wardBox=document.querySelector(".wardbox");
            let Loopplay=document.querySelector(".loopplay");
            let Timeul=document.querySelector(".time>ul");
            let video=document.getElementById("video");
            let ProgressBox=document.querySelector(".Progressbox");
            let loading=document.querySelector(".loading");
            let playTag,videoTag,volumeTag,playProgress,volumeProgress,
                Progressbarw,volumeValueh,ScreenTag,aRR=[],TimeLilen=0,num=0;

        //隐藏原生播放控件

            videoFile.controls=false;

        //容器初始样式以及响应式布局

            function videocss(){
                loading.style.display="none";
                volumeValue.style.display="none";
                document.querySelector(".upload>p").style.display="none";
                if(!videoTag&&!ScreenTag){
                    if(document.documentElement.clientWidth>=768){
                        video.style.width=document.documentElement.clientWidth*0.6+"px";
                        video.style.height=document.documentElement.clientWidth*0.6*0.6+"px";
                    }else{
                        if(document.documentElement.clientWidth>document.documentElement.clientHeight){
                            video.style.height=document.documentElement.clientHeight*0.8+"px";
                            video.style.width=document.documentElement.clientHeight*1.2+"px";
                        }else{
                            video.style.width=document.documentElement.clientWidth*0.8+"px";
                            video.style.height=document.documentElement.clientWidth*0.8*0.6+"px";
                        }
                    }   
                }
                if(videoTag&&!ScreenTag){
                    video.style.width=videoFile.style.width;
                    if(document.documentElement.clientWidth<415)
                    video.style.height=videoFile.style.height;
                    if(415<=document.documentElement.clientWidth<768)
                    video.style.height=parseInt(videoFile.style.height)/0.95+"px";
                    if(document.documentElement.clientWidth>=768)
                    video.style.height=parseInt(videoFile.style.height)/0.9+"px";
                }
                if(document.documentElement.clientWidth<415){
                    H.style.height=0;
                    document.querySelector(".controls").style.height=video.scrollHeight*0.16+"px";
                    ProgressBox.style.width=video.scrollWidth*0.5+"px";
                    wardBox.style.width=video.scrollWidth*0.25+"px";
                    playBox.style.width=video.scrollWidth*0.1+"px";
                    ProgressBar.style.height="6px";
                    volumeValue.style.width="6px";
                }else{
                    if(415<=document.documentElement.clientWidth<768){
                        document.querySelector(".controls").style.height=video.scrollHeight*0.14+"px";
                        ProgressBar.style.height="6px";
                        volumeValue.style.width="6px";
                        H.style.height=(videoFile.height/0.9)*0.06+"px";
                        H.style.lineHeight=video.scrollHeight*0.06+"px";
                        H.style.fontSize=parseInt(H.style.lineHeight)*0.3+'px';
                    }else{
                        document.querySelector(".controls").style.height=video.scrollHeight*0.12+"px";
                        ProgressBar.style.height="10px";
                        volumeValue.style.width="10px";
                        H.style.height=(videoFile.height/0.9)*0.12+"px";
                        H.style.lineHeight=video.scrollHeight*0.12+"px";
                        H.style.fontSize=parseInt(H.style.lineHeight)*0.4+'px';
                    }
                    ProgressBox.style.width=video.scrollWidth*0.4+"px";
                    wardBox.style.width=video.scrollWidth*0.35+"px";
                    playBox.style.width=video.scrollWidth*0.25+"px";
                }
                if(parseInt(video.style.height)<415){
                    document.querySelector(".time").style.display="none";
                }
                if(parseInt(video.style.height)>415){
                    Timeul.style.justifyContent="center";
                    document.querySelector(".time").style.display="block";
                }  
                let ARR=[
                    [Play,'./images/暂停键.png'],
                    [Loopplay,'./images/循环播放.png'],
                    [Forward,'./images/快进.png'],
                    [Screen,'./images/全屏.png'],
                    [Rewind,'./images/快退.png'],
                    [Vol,'./images/音量键.png'],
                    [load,'./images/上传.png']
                ];
                if(document.documentElement.clientWidth<768){
                    ARR[1][0].style.display="none";
                    ARR[2][0].style.display="none";
                    ARR[4][0].style.display="none";
                    ARR[5][0].style.display="none";
                }else{
                    ARR[1][0].style.display="block";
                    ARR[2][0].style.display="block";
                    ARR[4][0].style.display="block";
                    ARR[5][0].style.display="block";
                }
                ARR.forEach(function(itm,i){
                    let HEIght=itm[0].scrollHeight;
                    if(HEIght<14)HEIght=14;
                    itm[0].style.width=HEIght+4+"px";
                    itm[0].style.lineHeight=HEIght+"px";
                    itm[0].style.fontSize=HEIght*0.3+"px";
                    itm[0].style.backgroundImage=`url(${itm[1]})`;
                    if(document.documentElement.clientWidth<768){
                        itm[0].style.backgroundSize=`${HEIght}px ${HEIght}px`;
                    }else{
                        itm[0].style.backgroundSize=`${HEIght-2}px ${HEIght-2}px`;
                    }
                    itm[0].style.backgroundRepeat="no-repeat";
                    itm[0].style.backgroundPosition="center";
                });
            };videocss();
            
        //屏幕自适应变化

            function Horizontalscreen(){
                videoFile.style.height=document.documentElement.clientHeight*0.9+"px";
                videoFile.height=document.documentElement.clientHeight*0.9;
                videoFile.style.width=(document.documentElement.clientHeight*0.9/videoFile.videoHeight)*videoFile.videoWidth+"px";
                videoFile.width=(document.documentElement.clientHeight*0.9/videoFile.videoHeight)*videoFile.videoWidth;
            };
            function Verticalscreen(){
                videoFile.style.width=document.documentElement.clientWidth+"px";
                videoFile.width=document.documentElement.clientWidth;
                videoFile.style.height=(document.documentElement.clientWidth/videoFile.videoWidth)*videoFile.videoHeight+"px";
                videoFile.height=(document.documentElement.clientWidth/videoFile.videoWidth)*videoFile.videoHeight;
            };
            function fullscreen(){
                videoFile.style.width=videoFile.videoWidth+"px";
                videoFile.width=videoFile.videoWidth;
                videoFile.style.height=videoFile.videoHeight+"px";
                videoFile.height=videoFile.videoHeight;
            };
            window.onresize=function(){
                if(!videoTag&&!ScreenTag){
                    videocss();
                }
                if(document.documentElement.clientWidth<768){
                    if(document.documentElement.clientHeight<415){
                        if(document.documentElement.clientWidth>document.documentElement.clientHeight){
                            Horizontalscreen();videocss();
                        }else{
                            Verticalscreen();videocss();
                        }
                    }else{
                        if(document.documentElement.clientWidth<videoFile.scrollWidth){
                            Verticalscreen();videocss();
                        }
                        if(document.documentElement.clientHeight<videoFile.scrollHeight){
                            Horizontalscreen();videocss();
                        }
                    }
                }else{
                    if(document.documentElement.clientHeight<415){
                        if(document.documentElement.clientWidth>document.documentElement.clientHeight){
                            Horizontalscreen();videocss();
                        }else{
                            Verticalscreen();videocss();
                        }
                    }else{
                        if(videoFile.videoWidth>videoFile.videoHeight){
                            if(videoFile.videoWidth>document.documentElement.clientWidth){
                                Verticalscreen();videocss();
                            }else{
                                fullscreen();videocss();
                            }
                        }else{
                            if(videoFile.videoHeight>document.documentElement.clientHeight){
                                Horizontalscreen();videocss();
                            }else{
                                fullscreen();videocss();
                            }
                        }
                    }
                } 
            };
        
        //加载loading图

            function loadingrun(){
                loading.style.display="block";
                loading.style.width="80px";
                timer=setInterval(function(){
                    loadingW=parseInt(loading.style.width);
                    num++;
                    if(num<6){
                        loading.innerHTML+="<li></li>";
                        loading.style.width=loadingW+9+"px";
                    }else{
                        num=0;
                        loading.style.width="80px";
                        loading.innerHTML="视频加载中";
                    }
                },500)
                if(!playTag){
                    videoFile.onloadedmetadata=function(){
                        clearInterval(timer);
                        loading.style.width="80px";
                        loading.innerHTML="视频加载中";
                        loading.style.display="none";
                        num=0;
                    }
                }else{
                    videoFile.oncanplay=function(){
                        clearInterval(timer);
                        loading.style.width="80px";
                        loading.innerHTML="视频加载中";
                        loading.style.display="none";
                        num=0;
                    }
                }
            }

        //视频加载  

            load.onclick=function(){
                upload.setAttribute("type","file");
                document.querySelector(".upload>p").style.display="block";
            }
            document.querySelector(".upload>p>img").oncilck=function(){
                document.querySelector(".upload>p").style.display="none";
            }
            upload.onclick=function(){
                document.querySelector(".upload>p").style.display="none";
            }
            document.querySelector(".upload>p>iput").onchange=function(){
                upload.setAttribute("type","");
                let url=this.value;
                videoFile.setAttribute("src",url);
            }
            upload.onchange=function(){
                upload.setAttribute("type","");
                let url=window.URL.createObjectURL(this.files[0]);
                videoFile.setAttribute("src",url);
                videoFile.loadstart=function(){
                    loadingrun();
                };    

        //播放进度时钟 

                function playTime(){
                    Hour=Math.floor(videoFile.currentTime/60/60);
                    Minute=Math.floor(videoFile.currentTime/60-Hour*60);
                    Second=Math.floor(videoFile.currentTime-Minute*60-Hour*60*60);
                    hour=Math.floor(videoFile.duration/60/60);
                    minute=Math.floor(videoFile.duration/60-hour*60);
                    second=Math.floor(videoFile.duration-minute*60-hour*60*60);
                    let x=":",y="/";
                    let arr=[
                        Math.floor(Hour/10),Hour-Math.floor(Hour/10)*10,
                        x,
                        Math.floor(Minute/10),Minute-Math.floor(Minute/10)*10,
                        x,
                        Math.floor(Second/10),Second-Math.floor(Second/10)*10,
                        y,
                        Math.floor(hour/10),hour-Math.floor(hour/10)*10,
                        x,
                        Math.floor(minute/10),minute-Math.floor(minute/10)*10,
                        x,
                        Math.floor(second/10),second-Math.floor(second/10)*10
                        ];
                    arr.forEach(function(itm,i){
                        num++;
                        let TimeLi=document.querySelectorAll(".time>ul>li"); 
                        TimeLi[i].style.fontSize=TimeLi[i].scrollHeight*0.6+"px";
                        TimeLi[i].style.width=TimeLi[i].scrollHeight*0.4+"px";
                        TimeLi[i].style.lineHeight=TimeLi[i].scrollHeight+'px';    
                        TimeLi[i].innerText=itm;
                        if(num<=arr.length){
                            TimeLilen+=(TimeLi[i].scrollHeight*0.4);
                            Timeul.style.width=TimeLilen+'px';
                        }
                    })
                    Timeul.style.width="100%";
                };
                videoFile.ondurationchange=function(){
                    playTime();
                }
        
        //视频加载成功执行
                
                videoFile.onloadedmetadata=function(){
                    function Horizontalscreen1(){
                        videoFile.style.height=document.documentElement.clientHeight*0.9*0.6+"px";
                        videoFile.height=document.documentElement.clientHeight*0.9*0.6;
                        videoFile.style.width=(document.documentElement.clientHeight*0.9*0.6/videoFile.videoHeight)*videoFile.videoWidth+"px";
                        videoFile.width=(document.documentElement.clientHeight*0.9*0.6/videoFile.videoHeight)*videoFile.videoWidth;
                    };
                    function Verticalscreen1(){
                        videoFile.style.width=document.documentElement.clientWidth*0.6+"px";
                        videoFile.width=document.documentElement.clientWidth*0.6;
                        videoFile.style.height=(document.documentElement.clientWidth*0.6/videoFile.videoWidth)*videoFile.videoHeight+"px";
                        videoFile.height=(document.documentElement.clientWidth*0.6/videoFile.videoWidth)*videoFile.videoHeight;
                    };
                    if(document.documentElement.clientWidth<768){
                        if(document.documentElement.clientWidth>=document.documentElement.clientHeight){
                            Horizontalscreen1();videocss();playTime();
                        }else{
                            Verticalscreen1();videocss();playTime();
                        }
                    }else{
                        if(videoFile.videoWidth>videoFile.videoHeight){
                            if(videoFile.videoWidth>document.documentElement.clientWidth*0.6){
                                Verticalscreen1();videocss();playTime();
                            }else{
                                fullscreen();videocss();playTime();
                            }
                        }else{
                            if(videoFile.videoHeight>document.documentElement.clientHeight*0.6){
                                Horizontalscreen1();videocss();playTime();
                            }else{
                                fullscreen();videocss();playTime();
                            }
                        }
                    }
                };
                H.innerText=this.files[0].name.split(".")[0];
                volumeTag=true;
                playTag=false;
                videoTag=true;
                ScreenTag=false;
                Play.style.backgroundImage="url('./images/播放键.png')";
                function volumecss(){
                    videoFile.volume=0.7;
                    P2.style.height=videoFile.volume*100+"px";
                    P2.style.backgroundSize=`10px ${videoFile.volume*100}px`;
                };volumecss();
                
            //全屏关与闭

                Screen.onclick=function(){
                    if(!ScreenTag){
                        ScreenTag=true;
                        if(document.documentElement.clientWidth<768){
                            if(document.documentElement.clientWidth>=document.documentElement.clientHeight){
                                Horizontalscreen();videocss();
                            }else{
                                Verticalscreen();videocss();
                            }
                        }else{
                            if(videoFile.videoWidth>videoFile.videoHeight){
                                if(videoFile.videoWidth>document.documentElement.clientWidth){
                                    Verticalscreen();videocss();
                                }else{
                                    fullscreen();videocss();
                                }
                            }else{
                                if(videoFile.videoHeight>document.documentElement.clientHeight){
                                    Horizontalscreen();videocss();
                                }else{
                                    fullscreen();videocss();
                                }
                            }
                        }
                        this.style.backgroundImage="url('./images/全屏退出.png')";
                    }else{
                        ScreenTag=false;
                        function Horizontalscreen(){
                            videoFile.style.width=document.documentElement.clientWidth*0.6+"px";
                            videoFile.width=document.documentElement.clientWidth*0.6;
                            videoFile.style.height=(document.documentElement.clientWidth*0.6/videoFile.videoWidth)*videoFile.videoHeight+"px";
                            videoFile.height=(document.documentElement.clientWidth*0.6/videoFile.videoWidth)*videoFile.videoHeight;
                        };
                        function Verticalscreen(){
                            videoFile.style.Height=document.documentElement.clientHeight*0.6+"px";
                            videoFile.height=document.documentElement.clientHeight*0.6;
                            videoFile.style.width=(document.documentElement.clientHeight*0.6/videoFile.videoHeight)*videoFile.videoWidth+"px";
                            videoFile.width=(document.documentElement.clientHeight*0.6/videoFile.videoHeight)*videoFile.videoWidth;
                        };
                        if(document.documentElement.clientWidth<768){
                            if(document.documentElement.clientWidth>=document.documentElement.clientHeight){
                                Verticalscreen();videocss();
                            }else{
                                Horizontalscreen();videocss();
                            }
                        }else{
                            if(videoFile.videoWidth>videoFile.videoHeight){
                                Horizontalscreen();videocss();
                            }else{
                                Verticalscreen();videocss();
                            }
                        }
                        this.style.backgroundImage="url('./images/全屏.png')";
                    }
                }
            
            //音量开关，拖拽调节音量大小
            
                function volumeTime(ev=window.event){
                    volumeProgress=1-ev.offsetY/volumeValue.clientHeight;
                    videoFile.volume=volumeProgress;
                    volumeValueh=Math.floor(100*volumeProgress);
                    P2.style.height=`${volumeValueh}px`;
                    P2.style.backgroundSize=`10px ${volumeValueh}px`;
                }
                volumeValue.onclick=function(ev=window.event){
                    ev.stopPropagation();
                }
                volumeValue.onmousedown=function(ev=window.event){
                    ev.stopPropagation();
                    if(videoTag){
                        volumeTime();    
                        volumeValue.onmousemove=function(ev=window.event){
                            ev.stopPropagation();
                            volumeTime();
                        }
                    }
                }
                document.onmouseup=function(){
                    volumeValue.onmousemove=null;
                }
                Vol.onclick=function(){
                    if(volumeTag){
                        this.style.backgroundImage="url('./images/音量关闭.png')";
                        videoFile.volume=0;
                        P2.style.height=0;
                        P2.style.backgroundSize="10px 0";
                        volumeValue.style.display="none";
                        volumeTag=false;
                        Vol.onmouseenter=null;
                    }else{
                        this.style.backgroundImage="url('./images/音量键.png')";
                        volumeValue.style.display="block";
                        volumeTag=true;
                        volumecss(); 
                    }
                } ;

            //音量条显示、隐藏

                if(volumeTag){    
                    Vol.onmouseenter=function(){ 
                        if(volumeValue.style.display==="none"){
                            volumeValue.style.display="block";
                            setTimeout(function(){
                                volumeValue.style.display="none";
                            },6000);
                        }
                    }
                };

            //视频播放与暂停
                
                function videorun(){
                    if(videoTag){
                        if(playTag){
                            videoFile.pause();
                            playTag=false;
                            Play.style.backgroundImage="url('./images/播放键.png')";
                        }else{
                            videoFile.play();
                            playTag=true;
                            Play.style.backgroundImage="url('./images/暂停键.png')";
                            videoFile.onloadeddata=function(){
                                this.onprogress=function(){
                                    loadingrun();
                                }
                            }
                        }
                    }
                };
                Play.onclick=function(){
                    videorun();  
                }
                videoFile.onclick=function(){
                    videorun();
                };
                
        //播放进度点击拖拽调节,快进，快退

                function Progressbarcss(){
                    Progressbarw=Math.floor(ProgressBar.scrollWidth*playProgress);
                    P1.style.width=`${Progressbarw}px`;
                    P1.style.backgroundSize=`${Progressbarw}px 14px`;
                }
                videoFile.addEventListener("timeupdate",function(){
                    if(this.currentTime){
                        let nowTime=this.currentTime;
                        let totalTime=this.duration;
                        if(nowTime===totalTime){
                            videoFile.pause();
                            playTag=false;
                            this.currentTime=0;
                            P1.style.width=0;
                            P1.style.backgroundSize="0 14px";
                            Play.style.backgroundImage="url('./images/播放键.png')";
                        }
                        playProgress=nowTime/totalTime;
                        Progressbarcss();playTime();
                    }
                })
                function ProgressTime(ev=window.event){
                    playProgress=ev.offsetX/ProgressBar.clientWidth;
                    videoFile.currentTime=playProgress*videoFile.duration;
                }
                ProgressBar.onmousedown=function(ev=window.event){
                    if(playTag){
                        ProgressTime();Progressbarcss();    
                        ProgressBar.onmousemove=function(ev=window.event){
                            ProgressTime();Progressbarcss();
                        }
                    }
                }
                ProgressBar.onmouseup=function(){
                    ProgressBar.onmousemove=null;
                }
                Rewind.onmousedown=function(){
                    let nowTime=videoFile.currentTime;
                    let totalTime=videoFile.duration;
                    nowTime-=5;
                    if(nowTime<0)nowTime=0;
                    videoFile.currentTime=nowTime;
                    playProgress=nowTime/totalTime;
                    Progressbarcss();
                }
                Forward.onmousedown=function(){
                    let nowTime=videoFile.currentTime;
                    let totalTime=videoFile.duration;
                    nowTime+=5;
                    if(nowTime>totalTime)nowTime=totalTime;
                    videoFile.currentTime=nowTime;
                    playProgress=nowTime/totalTime;
                    Progressbarcss();
                }

        //循环播放

                Loopplay.onclick=function(){
                    videoFile.currentTime=0;
                    P1.style.width=0; 
                    P1.style.backgroundSize="0 14px";
                    videoFile.onloadeddata=function(){
                        this.onprogress=function(){
                            loadingrun();
                        }
                    } 
                }
                
            } 
        </script>
    </body>
</html>